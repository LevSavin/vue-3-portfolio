import{_ as le,e as ie,o as v,f as pe,w as m,a as t,d as de,r,u as _e,g as he,h as C,i as ae,j as fe,E as ge,k as ve,l as be,m as we,c as $,t as s,n,F as oe,p as se,b as ne}from"./index-7c920adc.js";import{_ as me,u as $e,e as ye,E as Fe,a as Ce}from"./useDynamicForm-8a4d239b.js";const Se={name:"iconHelpInformation",components:{iconsWrapper:ie},props:{iconColor:{type:String,default:"currentColor"},width:{type:[Number,String],default:18},height:{type:[Number,String],default:18},viewBox:{type:String,default:"0 0 18 18"}}},qe={id:"Help_Information","data-name":"Help Information",transform:"translate(9 9)"},Ie=["fill"];function Re(e,u,d,b,S,c){const p=ie;return v(),pe(p,{width:d.width,height:d.height,viewBox:d.viewBox},{default:m(()=>[t("g",qe,[t("path",{id:"Icon_Help_Information","data-name":"Icon / Help Information",d:"M9.863,13.137a.863.863,0,0,1-1.726,0V7.986a.863.863,0,0,1,1.726,0ZM9,6.091a1.046,1.046,0,1,1,1.045-1.045A1.046,1.046,0,0,1,9,6.091m6.367,9.268A8.933,8.933,0,0,1,9.012,18,9.005,9.005,0,0,1,2.633,2.63,9,9,0,0,1,15.367,15.359M14.122,3.9a7.227,7.227,0,1,0,0,10.218,7.256,7.256,0,0,0,0-10.218",transform:"translate(-9 -9)",fill:d.iconColor},null,8,Ie)])]),_:1},8,["width","height","viewBox"])}const ke=le(Se,[["render",Re],["__file","D:/OpenServer/domains/portfolio/vue-3-portfolio/src/components/icons/iconHelpInformation.vue"]]),Ve={attr:{required:!0,max_length:100},type:"CharField"},De={attr:{required:!0,minimum:1e3,maximum:1e5},type:"IntegerField"},xe={attr:{required:!0,minimum:2,maximum:100},type:"DecimalField"},Ee={attr:{required:!1,minimum:1e3,maximum:1e5},type:"DecimalField"},Je={attr:{required:!1,minimum:1e3,maximum:1e5},type:"DecimalField"},Pe={attr:{email:!0,required:!0},type:"CharField"},We={attr:{password:!0,required:!0},type:"CharField"},Be={attr:{phone:!0,required:!1},type:"CharField"},Me={attr:{url:!0,required:!1},type:"CharField"},He={name:Ve,maxWeights:De,maxPallets:xe,height:Ee,volume:Je,email:Pe,password:We,phone:Be,website:Me},Ne={attr:{required:!1,max_length:10},type:"CharField"},Te={attr:{required:!1,minimum:50,maximum:1e3},type:"DecimalField"},Oe={attr:{required:!1,minimum:1,maximum:20},type:"IntegerField"},Ue={attr:{required:!0,minimum:10,maximum:2e3},type:"IntegerField"},ze={attr:{required:!0,minimum:10,maximum:2e3},type:"IntegerField"},Ae={attr:{email:!0,required:!1},type:"CharField"},Le={attr:{password:!0,required:!1},type:"CharField"},je={attr:{phone:!0,required:!0},type:"CharField"},Ge={attr:{url:!0,required:!0},type:"CharField"},Ze={name:Ne,maxWeights:Te,maxPallets:Oe,height:Ue,volume:ze,email:Ae,password:Le,phone:je,website:Ge},re=()=>({name:null,maxWeights:null,maxPallets:null,height:null,volume:null,email:null,password:null,phone:null,website:null}),Ke=()=>({rulesJson:He,rulesJsonSecond:Ze}),Qe=()=>({transport:["name","maxWeights","maxPallets","height","volume"],counterparty:["email","phone","password","website"]}),Xe=de({name:"FormValidation",components:{buttonComponent:me},setup(){const e=r(),{t:u}=_e({}),d=he(),b=C(()=>d.getters["docs/schemas"]),S=Qe(),c=r({}),p=r("rulesJson"),l=ae({data:re(),defaultData:re(),schema:"form-validation",errors:ye}),f=(o=p.value)=>{c.value=Ke()[o]};f();const g=()=>{if(p.value==="rulesJson"){p.value="rulesJsonSecond",f("rulesJsonSecond");return}p.value="rulesJson",f("rulesJson")},y=C(()=>{var o;return(o=b.value[l.schema])!=null&&o.required?b.value[l.schema].required:[]}),{onPrepareRules:q,onClearErrorField:F,onSubmitForm:I,onGetDirtyData:a,onPrepareTypesData:w}=$e(l,e,_,c);function _(){if(H.value)return;const o=w(a(),c.value);console.log(o),window.ElMessage({showClose:!0,message:u("common.messages.succcess"),type:"success"})}let R=ae({});const k=()=>{const o=q(c.value);for(const h in o)R[h]=o[h]};k();const ue=C(()=>`
        <p class='text-white'>${u("common.pass.title")}<p>
        <p class='text-white'>${u("common.pass.require_1")}</p>
        <p class='text-white'>${u("common.pass.require_2")}</p>
        <p class='text-white'>${u("common.pass.require_3")}</p>
        <p class='text-white'>${u("common.pass.require_4")}</p>
      `),ce=()=>{l.data=JSON.parse(JSON.stringify(l.defaultData))};fe(()=>c.value,()=>{k()});const i=(o,h)=>y.value.includes(h)?o==="success":o!=="error",V=r(null),D=r(null),x=r(null),E=r(null),J=r(null),P=r(null),W=r(null),B=r(null),M=r(null),H=C(()=>{var o,h,N,T,O,U,z,A,L,j,G,Z,K,Q,X,Y,ee,te;return!(i((h=(o=V.value)==null?void 0:o[0])==null?void 0:h.validateState,"name")&&i((T=(N=D.value)==null?void 0:N[0])==null?void 0:T.validateState,"maxWeights")&&i((U=(O=x.value)==null?void 0:O[0])==null?void 0:U.validateState,"maxPallets")&&i((A=(z=E.value)==null?void 0:z[0])==null?void 0:A.validateState,"height")&&i((j=(L=J.value)==null?void 0:L[0])==null?void 0:j.validateState,"volume")&&i((Z=(G=P.value)==null?void 0:G[0])==null?void 0:Z.validateState,"email")&&i((Q=(K=W.value)==null?void 0:K[0])==null?void 0:Q.validateState,"password")&&i((Y=(X=B.value)==null?void 0:X[0])==null?void 0:Y.validateState,"phone")&&i((te=(ee=M.value)==null?void 0:ee[0])==null?void 0:te.validateState,"website"))});return{onSubmitForm:I,onClearErrorField:F,formRef:e,form:l,rules:R,isSubmitDisabled:H,resetForm:ce,nameRef:V,maxWeightsRef:D,maxPalletsRef:x,heightRef:E,volumeRef:J,emailRef:P,passwordRef:W,phoneRef:B,websiteRef:M,currentSchema:c,requiredFields:y,schemas:b,fieldsMap:S,passwordText:ue,toggleRules:g}}});const Ye={class:"form-page"},et={class:"form-page__description"},tt={class:"form-page__description"},at={class:"form-page__description"},ot={class:"form-page__description"},st={class:"form-page__description"},nt={href:"https://github.com/LevSavin/vue-3-portfolio/blob/master/src/pages/FormValidation.vue",target:"_blanc"},rt={href:"https://github.com/LevSavin/vue-3-portfolio/blob/master/src/composables/useDynamicForm.ts",target:"_blanc"},lt={class:"form-page__description"},it={class:"form-page__hero"},mt={class:"form-page__wrapper"},ut={class:"form-page__section-wrapper"},ct={class:"form-page__section"},pt={class:"form-page__section-wrapper"},dt={class:"form-page__section"},_t={class:"form__block"},ht={class:"form__password-help link"},ft={class:"form-page__password-text"},gt={class:"form-page__submit"};function vt(e,u,d,b,S,c){const p=me,l=ge,f=ve,g=Fe,y=ke,q=be,F=we,I=Ce;return v(),$("div",Ye,[t("h3",et,s(e.$t("pages.validation_1")),1),t("p",tt,s(e.$t("pages.validation_2")),1),t("p",at,s(e.$t("pages.validation_3")),1),t("p",ot,s(e.$t("pages.validation_4")),1),t("p",st,[t("a",nt,s(e.$t("pages.here")),1),t("span",null,"Â "+s(e.$t("pages.view_code_1")),1),t("a",rt,s(e.$t("pages.here_lowercase")),1),t("span",null,s(e.$t("pages.view_code_2")),1)]),t("h3",lt,s(e.$t("pages.validation_5")),1),n(p,{onClick:e.toggleRules,icon:"iconRefresh",buttonClass:"btn-plain",text:e.$t("btns.change_rules")},null,8,["onClick","text"]),n(l,{class:"errors__divider"}),t("h1",it,s(e.$t("common.form_dynamic_validation")),1),n(I,{ref:"formRef",model:e.form.data,rules:e.rules,"label-width":"120px","label-position":"top",size:"large"},{default:m(()=>[t("div",mt,[t("div",ut,[t("h2",null,s(e.$t("common.form.transport")),1),t("div",ct,[(v(!0),$(oe,null,se(e.fieldsMap.transport,(a,w)=>(v(),$("div",{class:"form-page__block",key:w},[n(g,{ref_for:!0,ref:a+"Ref",prop:a,label:e.$t(`labels.table.${a}`)},{default:m(()=>[n(f,{modelValue:e.form.data[a],"onUpdate:modelValue":_=>e.form.data[a]=_,placeholder:e.$t(`labels.table.${a}`),onInput:_=>e.onClearErrorField(a)},null,8,["modelValue","onUpdate:modelValue","placeholder","onInput"])]),_:2},1032,["prop","label"])]))),128))])]),t("div",pt,[t("h2",null,s(e.$t("common.form.counterparty")),1),t("div",dt,[(v(!0),$(oe,null,se(e.fieldsMap.counterparty,(a,w)=>(v(),$("div",{class:"form-page__block",key:w},[n(g,{ref_for:!0,ref:a+"Ref",prop:a,label:e.$t(`labels.table.${a}`)},{default:m(()=>[n(f,{modelValue:e.form.data[a],"onUpdate:modelValue":_=>e.form.data[a]=_,placeholder:e.$t(`labels.table.${a}`),onInput:_=>e.onClearErrorField(a)},null,8,["modelValue","onUpdate:modelValue","placeholder","onInput"])]),_:2},1032,["prop","label"])]))),128)),t("div",_t,[n(q,{placement:"right",effect:"dark",content:e.passwordText,"raw-content":""},{default:m(()=>[t("p",ht,[n(y),t("span",ft,s(e.$t("common.pass.requirements")),1)])]),_:1},8,["content"])])])]),n(g,{prop:"submit"},{default:m(()=>[n(l,{class:"errors__divider"})]),_:1}),n(g,null,{default:m(()=>[t("div",gt,[n(F,{class:"btn-plain",size:"large",onClick:e.resetForm},{default:m(()=>[ne(s(e.$t("btns.cancel_changes")),1)]),_:1},8,["onClick"]),n(F,{disabled:e.isSubmitDisabled,class:"btn-primary form-page__submit-btn",size:"large",onClick:e.onSubmitForm},{default:m(()=>[ne(s(e.$t("btns.save_changes")),1)]),_:1},8,["disabled","onClick"])])]),_:1})])]),_:1},8,["model","rules"])])}const $t=le(Xe,[["render",vt],["__scopeId","data-v-3049d6a0"],["__file","D:/OpenServer/domains/portfolio/vue-3-portfolio/src/pages/FormValidation.vue"]]);export{$t as default};
